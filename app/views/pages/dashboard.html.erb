
<div class="dashboard-container">
  <div class="row">
    <!-- SIDEBAR -->
    <div class="col-xs-12 col-s-12 col-md-5">
      <div class="sidebar ">
        <div class = "sidebar-top"><%= cl_image_tag @user.profilephoto, class:"dash-photo"  %>
          <div class = "dash-name">
            <h3><%= @user.first_name %>'s Dashboard
            </h3>
          </div>
        </div>
        <div class = "sidebar-bottom">
          <div class = "dash-tabs">
            <ul class="nav nav-pills flex-column" id="myTab" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" id="event-tab" data-toggle="tab" href="#event" role="tab"
              aria-controls="event" aria-selected="true">Events</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="requests-tab" data-toggle="tab" href="#requests" role="tab"
              aria-controls="requests" aria-selected="false">Friend Requests</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="connections-tab" data-toggle="tab" href="#connections" role="tab"
              aria-controls="connections" aria-selected="false">Connections</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="hub-tab" data-toggle="tab" href="#your_hub" role="tab"
              aria-controls="your_hub" aria-selected="false">Your Hub</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="interests-tab" data-toggle="tab" href="#interests" role="tab"
              aria-controls="interests" aria-selected="false">Interests</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xs-12 col-s-12 col-md-7">
      <div class="dash-content">
        <div class="tab-content" id="myTabContent">
          <div class="tab-pane fade show active" id="event" role="tabpanel" aria-labelledby="event-tab">
            <div class="card-header tab-card-header">
              <ul class="nav nav-tabs card-header-tabs d-flex justify-content-center" id="myTab" role="tablist">
                <li class="nav-item">
                  <a class="nav-link active" id="one-tab" data-toggle="tab" href="#one" role="tab" aria-controls="One" aria-selected="true">
                    <h4>Hosting</h4>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" id="two-tab" data-toggle="tab" href="#two" role="tab" aria-controls="Two" aria-selected="false">
                    <h4>Attending</h4>
                  </a>
                </li>
              </ul>
            </div>
            <div class="tab-pane fade event-dashboard show active p-3" id="one" role="tabpanel" aria-labelledby="one-tab">
              <div class="row">
                <div class="col-3">
                  <div class = "dash-event-side-tabs">
                    <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                      <a class="nav-link active" id="v-pills-home-tab" data-toggle="pill" href="#v-pills-home" role="tab" aria-controls="v-pills-home" aria-selected="true">Upcoming</a>
                      <a class="nav-link" id="v-pills-profile-tab" data-toggle="pill" href="#v-pills-profile" role="tab" aria-controls="v-pills-profile" aria-selected="false">Past</a>
                    </div>
                  </div>
                </div>
                <div class="col-9">
                  <div class="tab-content" id="v-pills-tabContent">
                    <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
                      <div class="event card">
                        <div class="dash-card-body p-2 text-center"><% @events.each do |event| %>
                          <div class="card-product"><%= cl_image_tag event.photo %>
                            <div class="card-product-infos">
                              <h2><%= link_to event.title, event_path(event) %>
                              </h2>
                              <p>
                                <strong>Location:</strong><%= event.location_name %>
                              </p>
                              <p><%= event.start_time.to_date.strftime("%A, %b %d")%> at <%= event.start_time.strftime("%l:%M")%> - <%= event.end_time.strftime("%l:%M %p")%>
                              </p>
                            </div>
                          </div><% end %>
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane event-dashboard fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">
                      <div class="event card">
                        <div class="dash-card-body p-2 text-center"><% @events.each do |event| %>
                          <div class="card-product"><%= cl_image_tag event.photo %>
                            <div class="card-product-infos">
                              <h2><%= link_to event.title, event_path(event) %>
                              </h2>
                              <p>
                                <strong>Location:</strong><%= event.location_name %>
                              </p>
                              <p><%= event.start_time.to_date.strftime("%A, %b %d")%> at <%= event.start_time.strftime("%l:%M")%> - <%= event.end_time.strftime("%l:%M %p")%>
                              </p>
                            </div>
                          </div><% end %>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="tab-pane fade p-3" id="two" role="tabpanel" aria-labelledby="two-tab">
              <div class="row">
                <div class="col-3">
                  <div class = "dash-event-side-tabs">
                    <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                      <a class="nav-link active" id="v-pills-home-tab" data-toggle="pill" href="#v-pills-attend-upcoming" role="tab" aria-controls="v-pills-attend-upcoming" aria-selected="true">Upcoming</a>
                      <a class="nav-link" id="v-pills-profile-tab" data-toggle="pill" href="#v-pills-attend-past" role="tab" aria-controls="v-pills-attend-past" aria-selected="false">Past</a>
                    </div>
                  </div>
                </div>
                <div class="col-9">
                  <div class="tab-content" id="v-pills-tabContent">
                    <div class="tab-pane fade show active" id="v-pills-attend-upcoming" role="tabpanel" aria-labelledby="v-pills-attend-upcoming-tab">
                      <div class="event card">
                        <div class="dash-card-body p-4 text-center"><% if @user.events.empty? %>
                          <h5>You have not signed up for any events yet.</h5><% else %><% @user.events.each do |event| %>
                          <div class="card-product"><%= cl_image_tag event.photo %>
                            <div class="card-product-infos">
                              <h2><%= link_to event.title, event_path(event) %>
                              </h2>
                              <p>
                                <strong>Location:</strong><%= event.location_name %>
                              </p>
                              <p><%= event.start_time.to_date.strftime("%A, %b %d")%> at <%= event.start_time.strftime("%l:%M")%> - <%= event.end_time.strftime("%l:%M %p")%>
                              </p>
                            </div>
                          </div><% end %><% end %>
                        </div>
                      </div>
                    </div>
<!-- need to fix this? -->
                    <% if @events.empty? %>
                    <h5>You have not signed up for any events yet.</h5><% end %>


                    <div class="tab-pane fade" id="v-pills-attend-past" role="tabpanel" aria-labelledby="v-pills-attend-past-tab">

                      <div class="event card">
                        <div class="dash-card-body p-4 text-center"><% if @user.events.empty? %>
                          <h5>You have not signed up for any events yet.</h5><% else %><% @user.events.each do |event| %>
                          <div class="card-product"><%= cl_image_tag event.photo %>
                            <div class="card-product-infos">
                              <h2><%= link_to event.title, event_path(event) %>
                              </h2>
                              <p>
                                <strong>Location:</strong><%= event.location_name %>
                              </p>
                              <p><%= event.start_time.to_date.strftime("%A, %b %d")%> at <%= event.start_time.strftime("%l:%M")%> - <%= event.end_time.strftime("%l:%M %p")%>
                              </p>
                            </div>
                          </div><% end %><% end %>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>



          <div class="tab-pane fade" id="requests" role="tabpanel" aria-labelledby="requests-tab">
            <div class="request card">
              <div class="request-dash-body p-3">
                <% @user.requested_friends.each do |friendreq| %><%= friendreq.first_name %><%= link_to "accept", accept_friend_path(friendreq), method: :post %><% end %>
                <div class="row">
                  <% 15.times do  %>
                  <div class="col-sm-6 col-md-6 col-lg-4">
                    <div class="contact-box center-version mx-auto">
                      <div class = "top-prof-card">
                        <a href="#profile.html"><%= cl_image_tag current_user.profilephoto, class:"avatar-profile"  %>
                        </a>
                        <h5 class="m-b-xs mt-3 text-center">Katie Overbury</h5>
                      </div>
                      <div class="contact-box-footer">
                        <div class="m-t-xs btn-group"><%= link_to "Accept", "#", class:"btn-xs-white" %></div>
                        <div class="m-t-xs btn-group"><%= link_to "Delete", "#", class:"btn-xs-white" %></div>

                      </div>
                    </div>
                  </div>
                  <% end %>
                </div>
              </div>
          </div>
        </div>


        <div class="tab-pane fade" id="your_hub" role="tabpanel" aria-labelledby="your_hub-tab">
          <div class="card">
            <div class="dash-card-header p-3 text-center border-bottom">
              <h3>Your Hub</h3>
            </div>
            <div class="dash-card-body p-4 text-center">
              <% if @user.hub.nil? %>
                <%= link_to "Choose Hub", hubs_path({ :newhub => "newhub" }), :class => "btn-lg-blue" %>
              <% end %>
              <% if @user.hub.nil? == false %>
                <%= link_to @user.hub.name, hub_path(@user.hub) %><%= link_to "change hub", hubs_path({ :newhub => "newhub" }), :class => "btn-lg-blue" %>
              <% end %>
            </div>
          </div>
</div>


         <div class="tab-pane fade" id="connections" role="tabpanel" aria-labelledby="connections-tab">
            <div class="friend card">

              <div class="dash-card-body p-4 text-center"><% if @user.friends.empty? %>
                <h5>NO CONNECTIONS</h5><% else %><% @user.friends.each do |friend| %>
                <p><%= friend.first_name %>
                </p><%= link_to "remove friend", remove_friend_path(friend), method: :delete %><% end %><% end %>

                <div class="row">
                  <% 15.times do  %>
                  <div class="col-md-4">
                    <div class="contact-box center-version mx-auto">
                      <div class = "top-prof-card">
                        <a href="#profile.html"><%= cl_image_tag current_user.profilephoto, class:"avatar-profile"  %>
                        </a>
                        <h5 class="m-b-xs mt-3">Katie Overbury</h5>
                      </div>
                      <div class="contact-box-footer">
                        <div class="m-t-xs btn-group"><%= link_to "Delete", "#", class:"btn-xs-white" %>
                        </div>
                      </div>
                    </div>
                  </div>
                  <% end %>
                </div>



              </div>


            </div>
          </div>


          <div class="tab-pane fade" id="your_hub" role="tabpanel" aria-labelledby="your_hub-tab">
            <div class="hub-dash card">
            <p>Can we have the hub card that we show on the index page here?</p>
              <div><%= link_to @user.hub.city, hub_path(@user.hub) %>
             </div>
                <%= link_to "Change Hub", hubs_path({ :newhub => "newhub" }), :class => "btn-md-white" %>

            </div>
          </div>




          <div class="tab-pane fade" id="interests" role="tabpanel" aria-labelledby="interests-tab">
            <div class="card text-center">
              <div class="dash-card-header p-3 text-center border-bottom">
                <h3>My Tags</h3>
              </div>
              <div class="dash-card-body p-4 text-center"><% if params[:newtags] == "newtags" %><% Tag.all.where(tag_type: "user").each do |tag| %><%= link_to tag.tag_name, add_tag_path({ :tag => "#{tag.tag_name}" }), :class => "btn-lg-blue" %><% end %>
                <h2>my tags</h2><% @user.tags.each do |tag| %><%= tag.tag_name %><% end %><% else %><% @user.tags.each do |tag| %><%= tag.tag_name %><%= link_to remove_tag_path({ :tag => "#{tag.tag_name}" }), method: :delete  do %>
                <h2>X</h2><% end %><% end %><%= link_to "add tags", dashboard_path({ :newtags => "newtags" }), :class => "btn-lg-blue" %><% end %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

